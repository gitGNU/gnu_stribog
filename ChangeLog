19 Feb 08
 * sw/host/ChangeLog: new
 * README.txt: notes on using GIT
18 Feb 08
 * TODO: initial add
 * mutex.h: comments telling these are not actually mutices
14 Feb 08
 * all files: switched from CVS to GIT
09 Feb 08
 * sw/host/prostprocess/src/lege_lineam.c, 
   sw/host/prostprocess/src/lege_lineam.h,
   sw/host/prostprocess/src/exvel.c, sw/host/postprocess/calib.dat:
  alg_control message added
 * sw/host/postprocess/process,
   sw/host/prostprocess/src/exvel.c, sw/host/postprocess/calib.dat:
  timestamp should be the first field of any message;
  messages from calib.dat are sorted with all data
20 Jan 08
 * sw/target/src/uart0.c, sw/target/src/uart1.c, sw/target/src/uart.config.h: 
  another uarts configuration added: 
   UART0 is used to load preferences and send data to host;
   UART1 receives GPS and odometer data
  when the original configuration is selected,
   UART0 receives preferences and GPS data;
   UART1 sends data to host
31 Nov 07
 * hw/stribog.sch: the power supply polarity of U17 was wrong; 
  added notes on accelerometer PWM period and bandwidth
 * hw/main_board.pcb, hw/main_board.bis.pcb: increased mounting holes size;
  corrected polarity of U17 power supply
 * hw/packages/QFP64, hw/packages/qfp64: increased precision, renamed
  from QFP64 to qfp64
 * sw/host/conloq/get_u.h: initial add
 * sw/host/conloq/caed.c: get_u removed to get_u.h; the function
  names in definitions reformatted as GNU coding standards propose;
  comments on program invocation added
 * sw/host/conloq/crc32.c: word size constants introduced; the function
  names in definitions reformatted as GNU coding standards propose
 * sw/host/conloq/crc32.h: types from stdint.h replaced with built-in ones
 * sw/host/conloq/exp-brief.c, sw/host/conloq/exp.c: 
  temp renamed to temperature; get_u removed to get_u.h;
  uint32_t replaced with unsigned long
 * sw/host/conloq/parse_tsip.c:
  names in definitions reformatted as GNU coding standards propose
 * sw/host/conloq/parse_tsipex.c:
  names in definitions reformatted as GNU coding standards propose
  get_u removed to get_u.h
 * sw/host/elk/elk.c: the uart is drained before synchronization
 * sw/host/elk/wser.c: timeouts corrected
 * sw/target/src/mag_response.c, sw/target/src/magex.c,
  sw/target/src/multa.c: init sequence corrected
 * sw/target/src/uart1ex.c: #define replaced with enum;
  names in definitions reformatted as GNU coding standards propose
17 Nov 07
 * copyright, README.txt: copyright notes moved to 'copyright';
  switched to the GNU GPL v3. greatly revised and more verbalised
  thoughts on the license interpretion for the hardware parts.
 * hw, sw: switched to the GNU GPL v3 "or later"
...
 * conloq/Makefile: automatic dependency tracking introduced
 * conloq/caed.c: a typo in variable name corrected
 * conloq/conloq.c: keypress processing added
 * conloq/crc32.h: types rearranged
 * conloq/crc32.c: adjusted to new crc32.h
 * conloq/exp-brief.c: verbosity control and stat messages output added
 * conloq/exp.c:exp_stat() added
 * conloq/verbosity_level.c, conloq/verbosity_level.h,
  conloq/process_keypress.c, conloq/process_keypress.h: initial add
 * conloq/garmin_nmea.c, conloq/hodo.c: verbosity control added
 * conloq/magex-conloq.c: signal handling and exit codes enum added
 * conloq/magexp.c: stubs for verbosity controls added
 * conloq/parse_tsipex.c: form_fix.h moved to ../common; types rearranged
 * conloq/serialia.c: unneeded headers removed; text reformatted
 * conloq/usage.c: help output added
 * conloq/winser.c, conloq/Makefile.win, conloq/wser.c,
  conloq/Makefile.windows, elk/winser.c, elk/Makefile.win, elk/wser.c,
  elk/Makefile.windows: *win* files renamed as GNU coding standards suggest
 * elk/elk.c: errors output rewritten
 * elk/Makefile: initial usage istructions added
 * elk/serialia.c: unneeded headers removed
 * elk/usage.c: command help moved out to help()
 * elk/prefs.dat: initial add
 * target/include/lpc2138.h: macro UxLSR_TSRE added
 * target/Makefile: more precise CFLAGS; to load prefs, magex target
  depends on tempus.o and uart0.o
 * target/src/accel.c: defines replaced with enum; VIC slot changed
  from 8 to 3; prescaler value is selectable on init; errors count added
 * target/src/accelex.c: init_accel() invocation changed
 * target/src/adc.h: defined replaced with enum
 * target/src/cdc32.h, target/src/cdc32.c: types rearranged
 * target/src/form_fix.h, common/form_fix.h: form_fix.h moved form
  target/src/ to common/
 * target/src/mag.c: gains made selectable
 * target/src/mag_response.c: usage comments added
 * target/src/magex.c: gain factors control added
 * target/src/multa.c: statistics output and preferences added;
 * target/src/tempus.c: compile-time PPS input selection influenced by
  the GNU coding standards; iunius_tempus() moved into tempus.h;
  VIC slot changed from 5 to 4
 * target/src/tempus.h: iunius_tempus() moved here from tempus.c
 * target/src/uart0.c: on init settings array is received;
  VIC slot changed from 3 to 8
 * target/src/uart1.c: VIC slot changed from 4 to 7
 * target/src/adc.c: VIC slot for AD1 changed from 7 to 5 
...
24 Oct 07
 (conloq, elk): tested under other systems. 
  the Hurd: the programmes work very instably, especially elk. 
   it seems like the Hurd uart demon doesn't support timeouts.
  OpenBSD 3.9: just fine; the compiler suggested using snprintf()
   instead of sprintf(); the sources were revised accordingly
23 Oct 07
 (conloq): serial port set up with timeouts not to drain the
  processor's cycles
 (conloq): signals are handled to terminate neatly
...
 (host/utils/stat.c): minimum and maximum added; statistics are
  calculated relatively to the first value in sequence, this
  should save precision when the deviations are much less than
  the mean values.
 (host/utils/Makefile): LD variable defined properly
 (target): 
  (multa.c, uart0.c):uart0 (through which the GPS messages come) 
  overflows are written to the tail of the messages retransferred 
  by LPC213x containing the external sensor data.

  crc header and form_fix() function are rearranged to enable
  host-side tests.
  (multa.c): message length constants are redefined with enum{}
  (uart1.c): frequency definition from freq.h used; 
   message-forming stuff moved to form_fix.h
 (postproc): the first extrapolated point is not compared 
  with GPS data; it can be unreasonable when we cut off 
  begin of conloq/bin/expon output.

 (expon): the parsing routines adjust the odometer timestamps and
  the UTC from GPS receiver messages to the LPC213x time. 
  odd PPS (due to sort of jam) are filtered out.
 (conloq/): more data-stream diagnostics;
  messages-decoding functions rewritten to enable messages
  beginning theirs body with DLE and ETX. parse_tsipex added to
  test this. there are two options: stick to the previous message,
  which is not very error-proof, and add to the messages beginning
  with DLE or ETX or EsC an extra EsC character. in the latter case
  we assign EsC=0x17 because analysis of our data shows this character
  to be one of the most rarely occuring at the very beginnings.

  However, the former option is reliable enough and the latter breaks
  compatibility, this is why the default one is the former.
...
13 Oct 07 
 new experiment, with odometer enabled.
...
 (auxilia/odo): programme loop indicated with PORTB&1; 
  notes on performance placed in hodo.c;
  in host/hodo difference between consequent pulse counts rather than pulse
  counts output - this is convenient for test when the input frequency
  is constant
...
21 Aug 07
README.txt: intention to switch to the GPL v3 eventually is confirmed.
Copyright notes in files slightly changed: the FSF address has been changed
 to URL where the GPL can be found, like in the GPL v3. as this change has
 been made automatically, the copyright dates are not updated.
host software:
 (conloq): ZDA messages are not parsed any more, 25LP does not produce them.
19 Aug 07
experiments by the pond of Chizhique. odometer firmware to be debugged.
16 Apr 07
auxiliary software: magnetic sampler (coil) added; common makefile
 for AVR targets placed in avr.mk
README.txt: notes on AVR tools added
11 Apr 07
hardware: in main boards pins to input-output uC UART signals directly,
 so they won't need slow RS-232 drivers. we plan to attach this port to
 an external USB<->UART converter based on USBtiny.
 (main_board.bis.pcb): DRC clearence level increased to 0.249 mm. fine
 manually editing with vim made this.
(odometer): a primitive checksum added
ChangeLog: reindenting, correcting some typos.
 P.S. at last, we printed a new main board. she is to be assembled.
05 Apr 07
 debugging odometer
04 Apr 07
host software:
 (conloq), (elk): correcting serialia.c to run on the Hurd
hardware:
 (*.pcb): thermal types changed to solid (some manufacturers can't
 make negative apertures in polygons); TQFP64 pads steps have less
 range now. this can improve the DRC limit to 0.248 mm
25 Mar 07
target software:
 some code cleaning up.
README.txt: notes on how to build tools updated
10 Mar 07
software:
 (auxilia): added an auxiliary odometer counter based on ATmega8. some
  comments on usage to be made.
 (conloq): hodo.[ch] added. garmin_nmea.c corrected to parse the odometer
  messages.
README.txt: some copyright notes updates.
05 Dec 06
host software:
 (utils): lpfilter corrected; stat added
 (conloq): garmin_nmea.c corrected
 (postproc): quick and dirty postprocessing added
29 Nov 06
 new board ordered. gerbers should be reoutput with new version
 of PCB: it doesn't overcomplicate files with multiple layers which
 are imported to different layers by some CADs (misinterpreting 
 the format specification)
24 Sep 06
host software (utils): fdif added; drift corrected
22 Sep 06
host software (utils): added an utility to estimate sensors drifts;
 lpfilter now can be ordered to change output precision.
28 Aug 06
hardware: R15, R16, R32, R33, R34 deleted from main board.
05 Jul 06
hardware: R31 changed to 1k. Q2 replaced with IRF7507. extra 3.3V regulator
 added to increase the higher working temperature limit.
04 Jul 06
host software: brief form of decoding added (exp-brief.c); this should
 improve stability of conloq. elk timeouts decreased
hardware: ADXL210AE appear to be obsolete. the nearest replacement is ADXL213;
 the dynamics range is not so wide, though. ST make next-generation
 accelerometers, but they are not easily available now, and they lack PWM
 channels.
22 Jun 06
hardware: sym/IRF7507.sym added. this probably will replace IRF7317:
 the latter has too high gate charges. LPC213x can't drive it purely.

 C35 would better be 2.0uF 1210 ceramic.

 The temperature drifts are being researched thoroughly.
07 Jun 06
hardware: added OP496GS to compensate HMC10xx offset resistances drift vs temperature.
 a branch of main board introduced where the magnetoresistors moved away from
 other parts which appeared to be magnetic.

 The second exemplar of the main board is being soldered. INA126U will be
 mounted in place of INA118. they are some 6 dB cheaper, but should fit.
27 May 06
target software: (multa) 
 ADC readings for gyros and temperatures adjusted for MCU
 power supply changes; namely, adc_i(out)=(adc_i(in)*k)>>21), where
 k=(a0*a0-(D-a0)*(a0+17)+(D-a0)*(D-a0)*5+42*1024, D is lowpass-filtered readings 
 of 2.048V from the DAC, a0 is 641 - typical value of D. 
 these factors possibly will need correction for every single board.

 adc_i(in)*k<=1<<32 and k/(double)(1<<21) is approximately a0/D for small (D-a0).
 -0.0005<a0/D-k/2^21<0.0005 when -70<(D-a0)<80
 So, for usual temperatures the corrected ADC readings remain the same, 
 whereas for the higher, when the supply voltage decreases, ADC readings 
 are corrected with error less than ADC unit.

 Initial readings can be reconstructed at the host side with uncertainty of 
 1 unit.

 Looking for excluding spurs in accelerometers measurements.

host software: (exp.c) 
 ADC temperature and 2.048V readings added to the end of 'adc:' string.

18 May 06
target software: corrected directions of magnetic axes
15 May 06
host software: elk now can load LPC2138 non-interactively
 conloq shows low-pass filtered values of measurements
 elig added
17 Apr 06
 burnt input A. adding possibility to get PPS at SCL.
15 Apr 06
mag_response: ADC differences added to output
magex: weak checksum added
host software: simple low-pass filtering program added
09 Apr 06
a week ago stribog had a field test. the next corrections followed:
target software: magnetic sampling frequency adjusted to 16*50 Hz;
 magex: raw 800 Hz output (without chechsums) added
 uart0.c: more reasonable input function
 multa.c: measurements output rate changed to 200 Hz
host software: a parser for magex output written
 conloq: GPS parser (initially) added
main board: x and y axes drawn.
31 Mar 06
target software: UART0 functions written; accelerometer channels
 sequence changed to conform with the magnetic sensors. 
host software: limited Windows support added
22 Mar 06
 all on-board sensors do work. magnetic sensors bandwidth should be
 defined more precisely and increased.
 mag_response program added: it is to measure DAC response to magnetic
 sensors output. the measured values define kx, ky and kz in mag.c
 C35 is tantalum again.
18 Mar 06
fixed a bug in the hardware part: pins 2 and 4 of Q2 must be swapped
 resistance R33 decreased to 30 Ohm.
 initially added a software module for magnetic sensors
04 Mar 06 
added pullup resistor to RESET
R17..R20 changed to 2.2k, R21..R24 --- to 3.3k
24 Feb 06
 LEDs added
 Tantalum capacitor C35 replaced with ceramic 0805
